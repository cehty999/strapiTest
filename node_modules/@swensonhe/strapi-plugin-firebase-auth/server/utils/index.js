"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateReferralCode = exports.getService = exports.sanitizeOutput = void 0;
var utils_1 = __importDefault(require("@strapi/utils"));
var sanitize = utils_1.default.sanitize;
var sanitizeOutput = function (user, ctx) {
    var schema = strapi.getModel("plugin::users-permissions.user");
    var auth = ctx.state.auth;
    return sanitize.contentAPI.output(user, schema, { auth: auth });
};
exports.sanitizeOutput = sanitizeOutput;
var getService = function (name) {
    return strapi.plugin("users-permissions").service(name);
};
exports.getService = getService;
var generateReferralCode = function (length) {
    var referralCode = "";
    var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    var charactersLength = characters.length;
    for (var i = 0; i < length; i++) {
        referralCode += characters.charAt(Math.floor(Math.random() * charactersLength));
    }
    return referralCode;
};
exports.generateReferralCode = generateReferralCode;
//# sourceMappingURL=index.js.map